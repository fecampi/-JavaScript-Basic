<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1, maximum-scale=1" name="viewport">
    <title>Título da Página</title>
</head>

<body>
    <button id="btn">Click me</button>
</body>


<script>
    function multNumbers(x, y) {
        let result = x * y;
        return result;
    }
    console.log(multNumbers(10, 2));


    //Expressão de Função
    let mult = function (x, y) {
        let result = x * y;
        return result;
    }
    console.log(mult(10, 2));


    //Métodos de objetos
    let operacao = {
        mult: function (x, y) {
            let result = x * y;
            return result;
        }
    }
    console.log(operacao.mult(4, 2));


    //Funções aninhadas ou closures
    function myName(val) {
        let name;

        function setName() {
            if (val == 1) {
                name = 'Thiago';
            } else if (val == 2) {
                name = 'Thais';
            } else {
                name = 'Nenhum dado foi disponibilizado';
            }
            return name;
        }
        return setName();
    }
    console.log(myName(1));

    //Anonimas
    var exibirSaudacao = function (nome) {
        console.log('Olá ' + nome + ', tudo bem?')
    }
    exibirSaudacao('Jorge')

    //Arrow functions
    //1
    function sum(x, y) {
        return x + y;
    }
    console.log(sum(10, 5));
    //2
    let sumArrow = (x, y) => {
        return x + y;
    }
    console.log(sumArrow(3, 4));
    //3
    let sumArrow2 = (x, y) => x + y;
    console.log(sumArrow2(6, 3));
    //4
    let dobroDoValor = x => x * 2;
    console.log("Dobro do valor:" + dobroDoValor(7));

    //implícito minimo
    let parOuImpar2 = numero => numero % 2 === 0 ? 'par' : 'ímpar'
    console.log('Par ou impar: ' + parOuImpar2(155));

    //Quantidade indefinida de parametros como objeto
    function soma2() {
        var resultado = 0
        for (var i in arguments) {
            console.log(arguments[i])
            //percorre o atributo do objeto 'Arguments'
            //(semelhante um array)    
        }
        return resultado

    }
    console.log(soma2(7, 5, 6, 3, 'texto'));


    //Parametros Default(opcionais) ---- 
    function nomeIdade(nome = 'Mario', idade = 22) {
        console.log(`Nome: ${nome}, Idade: ${idade}`);
    }
    nomeIdade('Felipe');




    //IIFE(Immediately invoked function expression)
    (function (win, doc) {
        //envio dos objetos Globais win e doc
        'use strict';
        console.log("IIFE")
        console.log(win)
        console.log(doc)
        console.log(this)

    })(window, document);

    //IIFE(Immediately invoked function expression com Arrow)
    ((win, doc) => {
        'use strict';
        console.log("IIFE")
        console.log(win)
        console.log(doc)
        console.log(this)
    })(window, document);


    //Função Callback(faz isso ou isso)
    function exibirArtigo(id, callbackSucesso, callbackErro) {
        //lógica: recuperar o id via requisição http
        if (false) {
            callbackSucesso('Funções de callback em JS', 'Funções de callback são muito utilizadas....')
        } else {
            callbackErro('Erro ao recuperar os dados')
        }
    }

    //função1
    var callbackSucesso = function (titulo, descricao) {
        cconsole.log(titulo)
        console.log('-')
        console.log(descricao)
    }

    //função2
    var callbackErro = erro => console.log(erro)

    exibirArtigo(1, callbackSucesso, callbackErro)


    //ForEach
    let entrada = [0, "Felipe", { 'age': 18 }, null];
    let forEachX = entrada.forEach((elem) => console.log('typeof: ' + typeof elem));



    //Função Assíncrona
    ((win, doc) => {
        //(1)A cada 5 segundos executa 
        setInterval(() => console.log('Passou 5 segundos.'), 5000);

        //Iniciar relogio
        let i = 0;
        function inicia() {
            i = 0;
            counter()
        }

        //Função recursiva
        function counter() {
            i++;
            console.log(i);

            if (i >= 5) {
                return;
            }
            //(2)Executa daqui a 3 segundos
            setTimeout(counter, 1000);
        }


        btn.addEventListener('click', inicia, false);
        console.log('---Aguarde----');
    })(window, document);




</script>

</html>